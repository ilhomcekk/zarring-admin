import{c as d,r as i}from"./auth-COeWrjcC.js";import{B as c}from"./index-DVCylq0Q.js";const o={list:[],listLoading:!1,ordersByUser:[],detail:{},detailLoading:!1,createLoading:!1,editLoading:!1,deleteLoading:!1},y=d(r=>({...o,getList:async e=>{r({listLoading:!0});try{const{data:a}=await i.fetchOrder(e);return r({list:a}),a}catch(a){return a}finally{r({listLoading:!1})}},getListByUser:async e=>{r({listLoading:!0});try{const{data:a}=await i.fetchOrderByUser(e);return r({ordersByUser:a}),a}catch(a){return a}finally{r({listLoading:!1})}},getDetail:async e=>{r({detailLoading:!0});try{const{data:a}=await i.fetchOrderDetail(e);return r({detail:a==null?void 0:a.data}),a}catch(a){return a}finally{r({detailLoading:!1})}},create:async e=>{r({createLoading:!0});try{const{data:a}=await i.createOrder(e);return a}catch(a){return a}finally{r({createLoading:!1})}},edit:async(e,a)=>{var n;r({editLoading:!0});try{const{data:t}=await i.editOrder(e,a);return t}catch({response:t}){return c.error((n=t==null?void 0:t.data)==null?void 0:n.message),err}finally{r({editLoading:!1})}},remove:async e=>{r({deleteLoading:!0});try{const{data:a}=await i.deleteBanner(e);return a!=null&&a.data&&r(n=>{var t;return{...n,list:(t=n.list)==null?void 0:t.filter(l=>(l==null?void 0:l.id)!==e)}}),a}catch(a){return a}finally{r({deleteLoading:!1})}}}));export{y as o};
