import{c,r as n}from"./auth-CBhP_LvO.js";const o={list:[],listLoading:!1,categoryParents:[],detail:{},detailLoading:!1,createLoading:!1,editLoading:!1,deleteLoading:!1},g=c(t=>({...o,getList:async e=>{t({listLoading:!0});try{const{data:a}=await n.fetchCategory(e);return t({list:a==null?void 0:a.data}),a}catch(a){return a}finally{t({listLoading:!1})}},getParents:async e=>{t({listLoading:!0});try{const{data:a}=await n.fetchCategoryParents(e);return t({categoryParents:a==null?void 0:a.data}),a}catch(a){return a}finally{t({listLoading:!1})}},getDetail:async e=>{t({detailLoading:!0});try{const{data:a}=await n.fetchCategoryDetail(e);return t({detail:a==null?void 0:a.data}),a}catch(a){return a}finally{t({detailLoading:!1})}},create:async e=>{t({createLoading:!0});try{const{data:a}=await n.createCategory(e);return a}catch(a){return a}finally{t({createLoading:!1})}},edit:async(e,a)=>{t({editLoading:!0});try{const{data:r}=await n.editCategory(e,a);return r}catch(r){return r}finally{t({editLoading:!1})}},remove:async e=>{t({deleteLoading:!0});try{const{data:a}=await n.deleteCategory(e);return a!=null&&a.data&&t(r=>{var l;return{...r,list:(l=r.list)==null?void 0:l.filter(i=>(i==null?void 0:i.id)!==e)}}),a}catch(a){return a}finally{t({deleteLoading:!1})}}}));export{g as c};
